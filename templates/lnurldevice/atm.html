<!--/////////////////////////////////////////////////-->
<!--////////////////USER FACING PAGE/////////////////-->
<!--/////////////////////////////////////////////////-->

{% extends "public.html" %} {% block page %}
<div class="row q-col-gutter-md justify-center">
    <div class="col-12 col-sm-6 col-md-5 col-lg-4">
        <q-card class="q-pa-lg">
            <q-card-section class="q-pa-none">

                <q-tabs v-model="tab" active-color="primary" align="justify">
                    <q-tab name="ln" :label="lightning" @update="val => tab = val.name"></q-tab>

                    <q-tab :disable="!status" name="onchain" :label="onchain" @update="val => tab = val.name"></q-tab>

                    <q-tab :disable="!status" name="liquid" :label="liquid" @update="val => tab = val.name"></q-tab>
                </q-tabs>
                <q-separator></q-separator>

                <q-tab-panels v-model="tab">
                    <q-tab-panel name="ln">
                        <div class="text-h6">Lightning Withdraw</div>
                        <div class="text-center">
                            <a class="text-secondary" href="lightning:{{ lnurl }}">
                                <q-responsive :ratio="1" class="q-mx-md">
                                    <qrcode :value="qrValue" :options="{width: 800}" class="rounded-borders"></qrcode>
                                </q-responsive>
                            </a>
                        </div>

                        <div class="row q-mt-lg q-gutter-sm">
                            <q-btn outline color="grey" @click="copyText(qrValue)">Copy LNURL </q-btn>
                        </div>
                    </q-tab-panel>

                    <q-tab-panel name="onchain" :disable="!status">
                        <div class="text-h6">Onchain Withdraw</div>
                        <div class="text-center">
                            <a class="text-secondary" href="lightning:{{ lnurl }}">
                                <q-responsive :ratio="1" class="q-mx-md">
                                    <qrcode :value="qrValue" :options="{width: 800}" class="rounded-borders"></qrcode>
                                </q-responsive>
                            </a>
                        </div>
                    </q-tab-panel>

                    <q-tab-panel name="liquid" :disable="!status">
                        <div class="text-h6">Liquid Withdraw</div>
                        <div class="text-center">
                            <a class="text-secondary" href="lightning:{{ lnurl }}">
                                <q-responsive :ratio="1" class="q-mx-md">
                                    <qrcode :value="qrValue" :options="{width: 800}" class="rounded-borders"></qrcode>
                                </q-responsive>
                            </a>
                        </div>
                    </q-tab-panel>
                </q-tab-panels>

            </q-card-section>

        </q-card>
    </div>
    <div class="col-12 col-sm-6 col-md-5 col-lg-4 q-gutter-y-md">
        <q-card>
            <q-card-section>
                <h6 class="text-subtitle1 q-mb-sm q-mt-none">ATM Withdraw</h6>
                <p class="q-my-none">
                    Boltz powered withdrawals for onchain and liquid.
            </q-card-section>
            <q-card-section class="q-pa-none">
                <q-separator></q-separator>
                <q-list> </q-list>
            </q-card-section>
        </q-card>
    </div>
</div>
{% endblock %} {% block scripts %}
<script>
    Vue.component(VueQrcode.name, VueQrcode)

    new Vue({
        el: '#vue',
        mixins: [windowMixin],
        data: function () {
            return {
                device_id: '{{device_id}}',
                qr_value: '{{lnurl}}',
                lnurl: '{{lnurl}}',
                hash: '{{hash}}',
                status: '{{success}}',
                payment_selection: 'ln',
                payment_options: ['ln', 'onchain', 'liquid']
            }
        },
        methods: {
            select
        }
    })
</script>
{% endblock %}